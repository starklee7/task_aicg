<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>éœ€æ±‚â‡„å¤ç›˜ååŒæ¿ - AIGCæœè£…è®¾è®¡</title>
    <style>
        /* å…¨å±€æ ·å¼é‡ç½®ä¸åŸºç¡€è®¾ç½® */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', sans-serif;
            background-color: #fafbfc;
            color: #4b5563;
            line-height: 1.6;
        }

        /* é…è‰²æ–¹æ¡ˆå˜é‡ */
        :root {
            --primary-blue: #3b82f6;
            --success-green: #10b981;
            --warning-orange: #f59e0b;
            --error-red: #ef4444;
            --neutral-gray: #6b7280;
            --bg-primary: #ffffff;
            --bg-secondary: #f8fafc;
            --bg-tertiary: #f1f5f9;
            --text-primary: #111827;
            --text-secondary: #374151;
            --text-body: #4b5563;
            --text-muted: #9ca3af;
            --border-color: #e5e7eb;
        }

        /* é¡¶éƒ¨å¯¼èˆªæ  */
        .header {
            height: 80px;
            background: var(--bg-primary);
            border-bottom: 1px solid var(--border-color);
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0 24px;
            position: fixed;
            width: 100%;
            top: 0;
            z-index: 1000;
        }

        .header-left {
            display: flex;
            align-items: center;
            gap: 16px;
        }

        .logo {
            width: 40px;
            height: 40px;
            background: linear-gradient(135deg, var(--primary-blue), #60a5fa);
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: 700;
            font-size: 16px;
        }

        .page-title {
            font-size: 18px;
            font-weight: 700;
            color: var(--text-primary);
        }

        .header-center {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .role-badge {
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 500;
            color: white;
        }

        .role-badge.client { background: var(--primary-blue); }
        .role-badge.designer { background: var(--success-green); }
        .role-badge.operator { background: var(--warning-orange); }

        .header-right {
            display: flex;
            align-items: center;
            gap: 16px;
        }

        .notification-icon {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: var(--bg-secondary);
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: background 0.2s;
        }

        .notification-icon:hover {
            background: var(--bg-tertiary);
        }

        .user-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: linear-gradient(135deg, #ec4899, #f97316);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: 600;
            cursor: pointer;
        }

        /* ä¸»å†…å®¹åŒºåŸŸ */
        .main-content {
            margin-top: 80px;
            padding: 24px;
            min-height: calc(100vh - 80px);
            display: flex;
            flex-direction: column;
            gap: 24px;
        }

        /* å¤ç›˜è¦ç‚¹å±•ç¤ºåŒº */
        .review-section {
            height: 40vh;
            min-height: 300px;
        }

        .section-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 16px;
        }

        .section-title {
            font-size: 16px;
            font-weight: 600;
            color: var(--text-secondary);
        }

        .refresh-btn {
            padding: 8px 16px;
            border: 1px solid var(--border-color);
            background: var(--bg-primary);
            border-radius: 6px;
            cursor: pointer;
            font-size: 14px;
            color: var(--text-body);
            transition: all 0.2s;
        }

        .refresh-btn:hover {
            border-color: var(--primary-blue);
            color: var(--primary-blue);
        }

        .review-cards {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            gap: 20px;
            height: calc(100% - 60px);
        }

        .review-card {
            background: var(--bg-primary);
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.08);
            padding: 20px;
            position: relative;
            border-top: 4px solid;
            transition: all 0.3s ease;
        }

        .review-card:hover {
            box-shadow: 0 4px 16px rgba(0,0,0,0.12);
            transform: translateY(-2px);
        }

        .review-card.highlights { border-color: var(--success-green); }
        .review-card.market-data { border-color: var(--primary-blue); }
        .review-card.issues { border-color: var(--warning-orange); }

        .card-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 16px;
        }

        .card-title {
            font-size: 14px;
            font-weight: 600;
            color: var(--text-secondary);
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .card-icon {
            width: 20px;
            height: 20px;
            border-radius: 4px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 12px;
        }

        .highlights .card-icon { background: var(--success-green); }
        .market-data .card-icon { background: var(--primary-blue); }
        .issues .card-icon { background: var(--warning-orange); }

        .apply-btn {
            padding: 4px 8px;
            background: var(--primary-blue);
            color: white;
            border: none;
            border-radius: 4px;
            font-size: 12px;
            cursor: pointer;
            transition: background 0.2s;
        }

        .apply-btn:hover {
            background: #2563eb;
        }

        .card-content {
            font-size: 13px;
            color: var(--text-body);
            line-height: 1.5;
            max-height: 200px;
            overflow: hidden;
        }

        .card-content.collapsed {
            display: -webkit-box;
            -webkit-line-clamp: 4;
            -webkit-box-orient: vertical;
        }

        .expand-btn {
            color: var(--primary-blue);
            cursor: pointer;
            font-size: 12px;
            margin-top: 8px;
        }

        .expand-btn:hover {
            text-decoration: underline;
        }

        /* çœ‹æ¿è§†å›¾åŒº */
        .kanban-section {
            flex: 1;
            min-height: 60vh;
        }

        .kanban-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 16px;
        }

        .add-request-btn {
            padding: 10px 20px;
            background: var(--primary-blue);
            color: white;
            border: none;
            border-radius: 6px;
            font-size: 14px;
            font-weight: 500;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 8px;
            transition: background 0.2s;
        }

        .add-request-btn:hover {
            background: #2563eb;
        }

        .kanban-board {
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            gap: 20px;
            height: calc(100% - 60px);
        }

        .kanban-column {
            background: var(--bg-secondary);
            border-radius: 8px;
            padding: 16px;
            min-height: 400px;
        }

        .column-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 16px;
            padding-bottom: 12px;
            border-bottom: 2px solid var(--border-color);
        }

        .column-title {
            font-size: 14px;
            font-weight: 600;
            color: var(--text-secondary);
        }

        .column-count {
            background: var(--neutral-gray);
            color: white;
            border-radius: 12px;
            padding: 2px 8px;
            font-size: 12px;
            font-weight: 500;
        }

        .project-cards {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .project-card {
            width: 280px;
            height: 160px;
            background: var(--bg-primary);
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.08);
            padding: 16px;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 2px solid transparent;
        }

        .project-card:hover {
            box-shadow: 0 4px 16px rgba(0,0,0,0.12);
            transform: translateY(-2px);
            border-color: var(--primary-blue);
        }

        .project-card.dragging {
            opacity: 0.5;
            transform: rotate(2deg);
        }

        .card-thumbnail {
            width: 100%;
            height: 60px;
            background: var(--bg-tertiary);
            border-radius: 4px;
            margin-bottom: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--text-muted);
            font-size: 12px;
            border: 2px dashed var(--border-color);
        }

        .card-thumbnail img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            border-radius: 4px;
        }

        .card-info {
            flex: 1;
        }

        .card-name {
            font-size: 14px;
            font-weight: 500;
            color: var(--text-primary);
            margin-bottom: 4px;
        }

        .card-meta {
            font-size: 12px;
            color: var(--text-muted);
            margin-bottom: 8px;
        }

        .card-footer {
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .status-tag {
            padding: 2px 8px;
            border-radius: 12px;
            font-size: 11px;
            font-weight: 500;
            color: white;
        }

        .status-tag.pending { background: var(--neutral-gray); }
        .status-tag.designing { background: var(--warning-orange); }
        .status-tag.ready { background: var(--primary-blue); }
        .status-tag.testing { background: #8b5cf6; }
        .status-tag.completed { background: var(--success-green); }

        .card-time {
            font-size: 11px;
            color: var(--text-muted);
        }

        /* å“åº”å¼è®¾è®¡ */
        @media (max-width: 1439px) {
            .review-cards {
                grid-template-columns: 1fr;
                gap: 16px;
            }
            .kanban-board {
                grid-template-columns: repeat(3, 1fr);
                gap: 16px;
            }
        }

        @media (max-width: 767px) {
            .header {
                padding: 0 16px;
            }
            .header-center {
                display: none;
            }
            .main-content {
                padding: 16px;
            }
            .kanban-board {
                grid-template-columns: 1fr;
                gap: 16px;
            }
            .project-card {
                width: 100%;
            }
        }

        /* å¼¹æ¡†é®ç½© */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.6);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 2000;
        }

        .modal-overlay.show {
            display: flex;
        }
    </style>
</head>
<body>
    <!-- é¡¶éƒ¨å¯¼èˆªæ  -->
    <header class="header">
        <div class="header-left">
            <div class="logo">AI</div>
            <h1 class="page-title">éœ€æ±‚â‡„å¤ç›˜ååŒæ¿</h1>
        </div>
        <div class="header-center">
            <div class="role-badge client" id="roleBadge">å®¢æˆ·</div>
        </div>
        <div class="header-right">
            <div class="notification-icon">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"></path>
                    <path d="M13.73 21a2 2 0 0 1-3.46 0"></path>
                </svg>
            </div>
            <div class="user-avatar">å¼ </div>
        </div>
    </header>

    <!-- ä¸»å†…å®¹åŒºåŸŸ -->
    <main class="main-content">
        <!-- å¤ç›˜è¦ç‚¹å±•ç¤ºåŒº -->
        <section class="review-section">
            <div class="section-header">
                <h2 class="section-title">ä¸Šè½®å¤ç›˜è¦ç‚¹</h2>
                <button class="refresh-btn">ğŸ”„ åˆ·æ–°</button>
            </div>
            <div class="review-cards">
                <!-- è®¾è®¡äº®ç‚¹å¡ç‰‡ -->
                <div class="review-card highlights">
                    <div class="card-header">
                        <div class="card-title">
                            <div class="card-icon">âœ¨</div>
                            è®¾è®¡äº®ç‚¹
                        </div>
                        <button class="apply-btn" onclick="applyReviewData('highlights')">ä¸€é”®åº”ç”¨</button>
                    </div>
                    <div class="card-content collapsed" id="highlightsContent">
                        æœ¬æ¬¡è®¾è®¡åœ¨è‰²å½©æ­é…ä¸Šé‡‡ç”¨äº†æ¸å˜è“è‰²ç³»ï¼Œå¾ˆå¥½åœ°ä½“ç°äº†ç§‘æŠ€æ„Ÿå’Œç°ä»£æ„Ÿã€‚è®¾è®¡å¸ˆå·§å¦™è¿ç”¨äº†å‡ ä½•çº¿æ¡å’Œæµç•…æ›²çº¿çš„ç»“åˆï¼Œåˆ›é€ å‡ºæ—¢æœ‰ç»“æ„ç¾åˆä¸å¤±æŸ”å’Œçš„è§†è§‰æ•ˆæœã€‚é¢æ–™é€‰æ‹©ä¸Šé‡‡ç”¨äº†æ–°å‹çš„é€æ°”é¢æ–™ï¼Œæ—¢ä¿è¯äº†èˆ’é€‚åº¦åˆå¢åŠ äº†åŠŸèƒ½æ€§ã€‚æ•´ä½“è®¾è®¡é£æ ¼ç®€çº¦è€Œä¸ç®€å•ï¼Œç¬¦åˆç›®æ ‡ç”¨æˆ·ç¾¤ä½“çš„å®¡ç¾åå¥½ã€‚ç»†èŠ‚å¤„ç†ä¸Šï¼Œè¢–å£å’Œé¢†å£çš„ç‰¹æ®Šå·¥è‰ºå¤„ç†å¢åŠ äº†äº§å“çš„ç²¾è‡´æ„Ÿå’Œå“è´¨æ„Ÿã€‚
                    </div>
                    <div class="expand-btn" onclick="toggleExpand('highlightsContent', this)">å±•å¼€</div>
                </div>

                <!-- å¸‚åœºæ•°æ®è¡¨ç°å¡ç‰‡ -->
                <div class="review-card market-data">
                    <div class="card-header">
                        <div class="card-title">
                            <div class="card-icon">ğŸ“Š</div>
                            å¸‚åœºæ•°æ®è¡¨ç°
                        </div>
                        <button class="apply-btn" onclick="applyReviewData('market-data')">ä¸€é”®åº”ç”¨</button>
                    </div>
                    <div class="card-content collapsed" id="marketDataContent">
                        é¢„å”®é˜¶æ®µæ•°æ®è¡¨ç°ä¼˜å¼‚ï¼Œ7å¤©é¢„å”®æœŸå†…æ”¶è·è®¢å•285å•ï¼Œè½¬åŒ–ç‡è¾¾åˆ°12.3%ï¼Œè¿œè¶…è¡Œä¸šå¹³å‡æ°´å¹³8.5%ã€‚ç”¨æˆ·åé¦ˆè¯„åˆ†å¹³å‡4.7åˆ†ï¼ˆæ»¡åˆ†5åˆ†ï¼‰ï¼Œå…¶ä¸­è®¾è®¡ç¾è§‚åº¦è·å¾—4.8åˆ†é«˜åˆ†ã€‚ç¤¾äº¤åª’ä½“ä¼ æ’­æ•ˆæœè‰¯å¥½ï¼Œç›¸å…³è¯é¢˜è®¨è®ºé‡è¾¾åˆ°15.6ä¸‡æ¬¡ï¼Œæ­£é¢è¯„ä»·å æ¯”87%ã€‚ä»·æ ¼æ¥å—åº¦è°ƒç ”æ˜¾ç¤ºï¼Œ68%çš„ç”¨æˆ·è®¤ä¸ºä»·æ ¼åˆç†ï¼Œç¬¦åˆäº§å“ä»·å€¼å®šä½ã€‚åœ°åŸŸåˆ†å¸ƒæ•°æ®æ˜¾ç¤ºä¸€çº¿åŸå¸‚å æ¯”45%ï¼ŒäºŒçº¿åŸå¸‚å æ¯”38%ï¼Œä¸‹æ²‰å¸‚åœºæ½œåŠ›å·¨å¤§ã€‚
                    </div>
                    <div class="expand-btn" onclick="toggleExpand('marketDataContent', this)">å±•å¼€</div>
                </div>

                <!-- é—®é¢˜ä¸æ”¹è¿›å¡ç‰‡ -->
                <div class="review-card issues">
                    <div class="card-header">
                        <div class="card-title">
                            <div class="card-icon">âš ï¸</div>
                            é—®é¢˜ & æ”¹è¿›
                        </div>
                        <button class="apply-btn" onclick="applyReviewData('issues')">ä¸€é”®åº”ç”¨</button>
                    </div>
                    <div class="card-content collapsed" id="issuesContent">
                        ç”Ÿäº§å‘¨æœŸè¾ƒé¢„æœŸå»¶é•¿äº†3å¤©ï¼Œä¸»è¦å› ä¸ºæ–°å·¥è‰ºçš„å­¦ä¹ æ›²çº¿å½±å“ã€‚å»ºè®®ä¸‹æ¬¡åœ¨è®¾è®¡é˜¶æ®µå°±ä¸ç”Ÿäº§å›¢é˜Ÿæ·±åº¦æ²Ÿé€šï¼Œç¡®ä¿å·¥è‰ºå¯è¡Œæ€§ã€‚é¢œè‰²è¿˜åŸåº¦ä¸è®¾è®¡ç¨¿å­˜åœ¨5%å·¦å³çš„åå·®ï¼Œéœ€è¦ä¼˜åŒ–ä¾›åº”é“¾çš„é¢œè‰²ç®¡ç†æµç¨‹ã€‚éƒ¨åˆ†ç”¨æˆ·åé¦ˆå°ºç åå°ï¼Œå»ºè®®åœ¨ä¸‹ä¸€ç‰ˆæœ¬ä¸­è°ƒæ•´å°ºç æ ‡å‡†ã€‚åŒ…è£…è®¾è®¡è™½ç„¶ç²¾ç¾ä½†æˆæœ¬åé«˜ï¼Œå¯ä»¥è€ƒè™‘åœ¨ä¿æŒç¾è§‚åº¦çš„å‰æä¸‹ä¼˜åŒ–åŒ…è£…æ–¹æ¡ˆã€‚ç‰©æµé…é€åœ¨åè¿œåœ°åŒºå­˜åœ¨å»¶è¿Ÿï¼Œéœ€è¦æ‰©å±•é…é€ç½‘ç»œè¦†ç›–ã€‚
                    </div>
                    <div class="expand-btn" onclick="toggleExpand('issuesContent', this)">å±•å¼€</div>
                </div>
            </div>
        </section>

        <!-- çœ‹æ¿è§†å›¾åŒº -->
        <section class="kanban-section">
            <div class="kanban-header">
                <h2 class="section-title">é¡¹ç›®çœ‹æ¿</h2>
                <button class="add-request-btn" onclick="openNewRequestModal()">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <line x1="12" y1="5" x2="12" y2="19"></line>
                        <line x1="5" y1="12" x2="19" y2="12"></line>
                    </svg>
                    æ–°å¢éœ€æ±‚
                </button>
            </div>
            <div class="kanban-board">
                <!-- éœ€æ±‚å¾…ç¡®è®¤ -->
                <div class="kanban-column" data-status="pending">
                    <div class="column-header">
                        <div class="column-title">éœ€æ±‚å¾…ç¡®è®¤</div>
                        <div class="column-count">2</div>
                    </div>
                    <div class="project-cards">
                        <div class="project-card" draggable="true" onclick="openProjectDetail('proj-001')">
                            <div class="card-thumbnail">
                                <span>æš‚æ— è®¾è®¡ç¨¿</span>
                            </div>
                            <div class="card-info">
                                <div class="card-name">æ˜¥å­£ä¼‘é—²Tæ¤è®¾è®¡</div>
                                <div class="card-meta">å®¢æˆ·ï¼šæ½®æµå“ç‰Œ | é’å¹´å¥³æ€§</div>
                            </div>
                            <div class="card-footer">
                                <div class="status-tag pending">å¾…ç¡®è®¤</div>
                                <div class="card-time">2å°æ—¶å‰</div>
                            </div>
                        </div>

                        <div class="project-card" draggable="true" onclick="openProjectDetail('proj-002')">
                            <div class="card-thumbnail">
                                <span>æš‚æ— è®¾è®¡ç¨¿</span>
                            </div>
                            <div class="card-info">
                                <div class="card-name">å•†åŠ¡è¡¬è¡«ç³»åˆ—</div>
                                <div class="card-meta">å®¢æˆ·ï¼šèŒåœºå“ç‰Œ | å•†åŠ¡ç”·æ€§</div>
                            </div>
                            <div class="card-footer">
                                <div class="status-tag pending">å¾…ç¡®è®¤</div>
                                <div class="card-time">1å¤©å‰</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- è®¾è®¡ä¸­ -->
                <div class="kanban-column" data-status="designing">
                    <div class="column-header">
                        <div class="column-title">è®¾è®¡ä¸­</div>
                        <div class="column-count">1</div>
                    </div>
                    <div class="project-cards">
                        <div class="project-card" draggable="true" onclick="openProjectDetail('proj-003')">
                            <div class="card-thumbnail">
                                <span>è®¾è®¡è¿›è¡Œä¸­...</span>
                            </div>
                            <div class="card-info">
                                <div class="card-name">å¤å­£è¿è¡£è£™</div>
                                <div class="card-meta">å®¢æˆ·ï¼šæ—¶å°šå“ç‰Œ | é’å¹´å¥³æ€§</div>
                            </div>
                            <div class="card-footer">
                                <div class="status-tag designing">è®¾è®¡ä¸­</div>
                                <div class="card-time">3å¤©å‰</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- å¾…äº¤ä»˜ -->
                <div class="kanban-column" data-status="ready">
                    <div class="column-header">
                        <div class="column-title">å¾…äº¤ä»˜</div>
                        <div class="column-count">1</div>
                    </div>
                    <div class="project-cards">
                        <div class="project-card" draggable="true" onclick="openProjectDetail('proj-004')">
                            <div class="card-thumbnail">
                                <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='100' height='60' viewBox='0 0 100 60'%3E%3Crect width='100' height='60' fill='%23e5e7eb'/%3E%3Ctext x='50' y='35' text-anchor='middle' fill='%236b7280' font-size='12'%3Eè®¾è®¡ç¨¿é¢„è§ˆ%3C/text%3E%3C/svg%3E" alt="è®¾è®¡ç¨¿">
                            </div>
                            <div class="card-info">
                                <div class="card-name">ç§‹å­£å¤–å¥—ç³»åˆ—</div>
                                <div class="card-meta">å®¢æˆ·ï¼šæˆ·å¤–å“ç‰Œ | é’å¹´ç”·æ€§</div>
                            </div>
                            <div class="card-footer">
                                <div class="status-tag ready">å¾…äº¤ä»˜</div>
                                <div class="card-time">5å¤©å‰</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- é¢„å”®æµ‹è¯• -->
                <div class="kanban-column" data-status="testing">
                    <div class="column-header">
                        <div class="column-title">é¢„å”®æµ‹è¯•</div>
                        <div class="column-count">1</div>
                    </div>
                    <div class="project-cards">
                        <div class="project-card" draggable="true" onclick="openProjectDetail('proj-005')">
                            <div class="card-thumbnail">
                                <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='100' height='60' viewBox='0 0 100 60'%3E%3Crect width='100' height='60' fill='%23ddd6fe'/%3E%3Ctext x='50' y='35' text-anchor='middle' fill='%238b5cf6' font-size='12'%3Eæµ‹è¯•ä¸­%3C/text%3E%3C/svg%3E" alt="è®¾è®¡ç¨¿">
                            </div>
                            <div class="card-info">
                                <div class="card-name">å†¬å­£é’ˆç»‡è¡«</div>
                                <div class="card-meta">å®¢æˆ·ï¼šèˆ’é€‚å“ç‰Œ | ä¸­å¹´å¥³æ€§</div>
                            </div>
                            <div class="card-footer">
                                <div class="status-tag testing">é¢„å”®æµ‹è¯•</div>
                                <div class="card-time">1å‘¨å‰</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- å·²å¤ç›˜ -->
                <div class="kanban-column" data-status="completed">
                    <div class="column-header">
                        <div class="column-title">å·²å¤ç›˜</div>
                        <div class="column-count">2</div>
                    </div>
                    <div class="project-cards">
                        <div class="project-card" draggable="true" onclick="openProjectDetail('proj-006')">
                            <div class="card-thumbnail">
                                <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='100' height='60' viewBox='0 0 100 60'%3E%3Crect width='100' height='60' fill='%23dcfce7'/%3E%3Ctext x='50' y='35' text-anchor='middle' fill='%2310b981' font-size='12'%3Eå·²å®Œæˆ%3C/text%3E%3C/svg%3E" alt="è®¾è®¡ç¨¿">
                            </div>
                            <div class="card-info">
                                <div class="card-name">è¿åŠ¨ä¼‘é—²å¥—è£…</div>
                                <div class="card-meta">å®¢æˆ·ï¼šè¿åŠ¨å“ç‰Œ | é’å¹´ç”·æ€§</div>
                            </div>
                            <div class="card-footer">
                                <div class="status-tag completed">å·²å¤ç›˜</div>
                                <div class="card-time">2å‘¨å‰</div>
                            </div>
                        </div>

                        <div class="project-card" draggable="true" onclick="openProjectDetail('proj-007')">
                            <div class="card-thumbnail">
                                <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='100' height='60' viewBox='0 0 100 60'%3E%3Crect width='100' height='60' fill='%23dcfce7'/%3E%3Ctext x='50' y='35' text-anchor='middle' fill='%2310b981' font-size='12'%3Eå·²å®Œæˆ%3C/text%3E%3C/svg%3E" alt="è®¾è®¡ç¨¿">
                            </div>
                            <div class="card-info">
                                <div class="card-name">èŒåœºå¥³è£…ç³»åˆ—</div>
                                <div class="card-meta">å®¢æˆ·ï¼šèŒåœºå“ç‰Œ | èŒä¸šå¥³æ€§</div>
                            </div>
                            <div class="card-footer">
                                <div class="status-tag completed">å·²å¤ç›˜</div>
                                <div class="card-time">3å‘¨å‰</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- å¼¹æ¡†é®ç½© -->
    <div class="modal-overlay" id="modalOverlay">
        <!-- å¼¹æ¡†å†…å®¹å°†é€šè¿‡JavaScriptåŠ¨æ€åŠ è½½ -->
    </div>

    <script>
        // å…¨å±€çŠ¶æ€ç®¡ç†
        let currentUser = {
            role: 'client', // client, designer, operator
            name: 'å¼ ä¸‰',
            avatar: 'å¼ '
        };

        let appliedReviewTags = [];

        // åˆå§‹åŒ–é¡µé¢
        document.addEventListener('DOMContentLoaded', function() {
            initializeApp();
            setupDragAndDrop();
            setupRoleBasedUI();
        });

        function initializeApp() {
            console.log('AIGCååŒæ¿ç³»ç»Ÿåˆå§‹åŒ–å®Œæˆ');
        }

        // è§’è‰²æƒé™æ§åˆ¶
        function setupRoleBasedUI() {
            const roleBadge = document.getElementById('roleBadge');
            const addRequestBtn = document.querySelector('.add-request-btn');
            
            switch(currentUser.role) {
                case 'client':
                    roleBadge.textContent = 'å®¢æˆ·';
                    roleBadge.className = 'role-badge client';
                    break;
                case 'designer':
                    roleBadge.textContent = 'è®¾è®¡å¸ˆ';
                    roleBadge.className = 'role-badge designer';
                    break;
                case 'operator':
                    roleBadge.textContent = 'è¿è¥';
                    roleBadge.className = 'role-badge operator';
                    break;
            }
        }

        // å¤ç›˜å†…å®¹å±•å¼€/æŠ˜å 
        function toggleExpand(contentId, button) {
            const content = document.getElementById(contentId);
            
            if (content.classList.contains('collapsed')) {
                content.classList.remove('collapsed');
                button.textContent = 'æ”¶èµ·';
            } else {
                content.classList.add('collapsed');
                button.textContent = 'å±•å¼€';
            }
        }

        // åº”ç”¨å¤ç›˜æ•°æ®
        function applyReviewData(type) {
            const typeMap = {
                'highlights': 'è®¾è®¡äº®ç‚¹',
                'market-data': 'å¸‚åœºæ•°æ®',
                'issues': 'é—®é¢˜æ”¹è¿›'
            };
            
            const tag = {
                id: Date.now(),
                type: type,
                label: typeMap[type],
                content: document.getElementById(type === 'highlights' ? 'highlightsContent' : 
                                               type === 'market-data' ? 'marketDataContent' : 'issuesContent').textContent
            };
            
            appliedReviewTags.push(tag);
            
            // æ˜¾ç¤ºæç¤ºä¿¡æ¯
            showNotification(`å·²åº”ç”¨"${tag.label}"åˆ°æ–°éœ€æ±‚è¡¨å•`, 'success');
        }

        // æ‹–æ‹½åŠŸèƒ½è®¾ç½®
        function setupDragAndDrop() {
            const cards = document.querySelectorAll('.project-card');
            const columns = document.querySelectorAll('.kanban-column');

            cards.forEach(card => {
                card.addEventListener('dragstart', handleDragStart);
                card.addEventListener('dragend', handleDragEnd);
            });

            columns.forEach(column => {
                column.addEventListener('dragover', handleDragOver);
                column.addEventListener('drop', handleDrop);
            });
        }

        function handleDragStart(e) {
            e.dataTransfer.setData('text/plain', e.target.outerHTML);
            e.target.classList.add('dragging');
        }

        function handleDragEnd(e) {
            e.target.classList.remove('dragging');
        }

        function handleDragOver(e) {
            e.preventDefault();
        }

        function handleDrop(e) {
            e.preventDefault();
            const draggedCard = document.querySelector('.dragging');
            const targetColumn = e.currentTarget;
            const targetCards = targetColumn.querySelector('.project-cards');
            
            if (draggedCard && targetCards) {
                // æ£€æŸ¥æƒé™
                if (!checkMovePermission(targetColumn.dataset.status)) {
                    showNotification('æ‚¨æ²¡æœ‰æƒé™ç§»åŠ¨åˆ°æ­¤çŠ¶æ€', 'error');
                    return;
                }
                
                targetCards.appendChild(draggedCard);
                updateCardStatus(draggedCard, targetColumn.dataset.status);
                updateColumnCounts();
                
                // æ¨¡æ‹ŸWebSocketå®æ—¶æ›´æ–°
                showNotification('é¡¹ç›®çŠ¶æ€å·²æ›´æ–°', 'success');
            }
        }

        function checkMovePermission(targetStatus) {
            // æƒé™æ£€æŸ¥é€»è¾‘
            if (currentUser.role === 'operator') return true;
            if (currentUser.role === 'designer' && 
                (targetStatus === 'designing' || targetStatus === 'ready')) return true;
            if (currentUser.role === 'client') return false;
            
            return false;
        }

        function updateCardStatus(card, newStatus) {
            const statusTag = card.querySelector('.status-tag');
            const statusMap = {
                'pending': { text: 'å¾…ç¡®è®¤', class: 'pending' },
                'designing': { text: 'è®¾è®¡ä¸­', class: 'designing' },
                'ready': { text: 'å¾…äº¤ä»˜', class: 'ready' },
                'testing': { text: 'é¢„å”®æµ‹è¯•', class: 'testing' },
                'completed': { text: 'å·²å¤ç›˜', class: 'completed' }
            };
            
            const statusInfo = statusMap[newStatus];
            statusTag.textContent = statusInfo.text;
            statusTag.className = `status-tag ${statusInfo.class}`;
            
            // æ›´æ–°æ—¶é—´
            const timeElement = card.querySelector('.card-time');
            timeElement.textContent = 'åˆšåˆš';
        }

        function updateColumnCounts() {
            const columns = document.querySelectorAll('.kanban-column');
            columns.forEach(column => {
                const count = column.querySelectorAll('.project-card').length;
                const countElement = column.querySelector('.column-count');
                countElement.textContent = count;
            });
        }

        // æ‰“å¼€æ–°éœ€æ±‚è¡¨å•å¼¹æ¡†
        function openNewRequestModal() {
            // è¿™é‡Œå°†è°ƒç”¨æ–°éœ€æ±‚è¡¨å•å¼¹æ¡†
            showNotification('æ­£åœ¨æ‰“å¼€æ–°éœ€æ±‚è¡¨å•...', 'info');
        }

        // æ‰“å¼€é¡¹ç›®è¯¦æƒ…é¡µ
        function openProjectDetail(projectId) {
            showNotification(`æ­£åœ¨æ‰“å¼€é¡¹ç›® ${projectId} è¯¦æƒ…...`, 'info');
        }

        // é€šçŸ¥ç³»ç»Ÿ
        function showNotification(message, type = 'info') {
            const notification = document.createElement('div');
            notification.style.cssText = `
                position: fixed;
                top: 100px;
                right: 20px;
                padding: 12px 20px;
                border-radius: 6px;
                color: white;
                font-size: 14px;
                z-index: 3000;
                transition: all 0.3s ease;
                box-shadow: 0 4px 16px rgba(0,0,0,0.15);
            `;
            
            const colors = {
                'success': '#10b981',
                'error': '#ef4444',
                'warning': '#f59e0b',
                'info': '#3b82f6'
            };
            
            notification.style.backgroundColor = colors[type] || colors.info;
            notification.textContent = message;
            
            document.body.appendChild(notification);
            
            setTimeout(() => {
                notification.style.opacity = '0';
                notification.style.transform = 'translateX(100%)';
                setTimeout(() => {
                    document.body.removeChild(notification);
                }, 300);
            }, 3000);
        }

        // åˆ‡æ¢ç”¨æˆ·è§’è‰²ï¼ˆè°ƒè¯•ç”¨ï¼‰
        function switchRole(role) {
            currentUser.role = role;
            setupRoleBasedUI();
            showNotification(`å·²åˆ‡æ¢åˆ°${role === 'client' ? 'å®¢æˆ·' : role === 'designer' ? 'è®¾è®¡å¸ˆ' : 'è¿è¥'}è§’è‰²`, 'info');
        }

        // é”®ç›˜å¿«æ·é”®
        document.addEventListener('keydown', function(e) {
            // Ctrl/Cmd + N æ–°å¢éœ€æ±‚
            if ((e.ctrlKey || e.metaKey) && e.key === 'n') {
                e.preventDefault();
                openNewRequestModal();
            }
            
            // è§’è‰²åˆ‡æ¢å¿«æ·é”® (è°ƒè¯•ç”¨)
            if (e.altKey) {
                switch(e.key) {
                    case '1': switchRole('client'); break;
                    case '2': switchRole('designer'); break;
                    case '3': switchRole('operator'); break;
                }
            }
        });
    </script>
</body>
</html>